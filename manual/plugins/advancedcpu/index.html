<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>AdvancedCPU plugin - Rainmeter 3.3 Manual</title>
	<link href="/css/main.css?v=3" rel="stylesheet">
	<link rel="shortcut icon" href="//www.rainmeter.net/favicon.ico">
	<!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6/html5shiv.min.js"></script><![endif]-->
</head>
<body>
	<div id="wrapper">
		<div id="top">
			<div class="container">
				<a id="logo" href="//rainmeter.net/"></a>
				<nav id="nav">
					<ul>
					<li><a href="//www.rainmeter.net">Home</a>
					<li><a href="//www.rainmeter.net/about">About</a>
					<li><a href="/" class="active">Docs</a>
					<li><a href="//www.rainmeter.net/discover">Discover</a>
					<li><a href="//forum.rainmeter.net">Forum</a>
					</ul>
				</nav>
			</div>
		</div>

		<div class="container">
			<div class="row">
				<div id="side-content">
	<h1 id="category"><a href="/manual">3.3 Manual</a></h1>

	<form id="search-form" method="get" action="http://www.google.com/search">
		<input name="sitesearch" value="docs.rainmeter.net" type="hidden">
		<input id="search" name="q" maxlength="255" size="16" placeholder="Search" type="text">
	</form>

	<nav id="tree">
		<h1>Contents</h1>
<ul>
<li><a href="/manual/getting-started/">Getting Started</a>
	<ul>
	<li><a href="/manual/getting-started/setting-up/">Setting Up</a>
	<li><a href="/manual/getting-started/using-rainmeter/">Using Rainmeter</a>
	<li><a href="/manual/getting-started/customizing/">Customizing</a>
	<li><a href="/manual/getting-started/creating-skins/">Creating Skins</a>
	<li><a href="/manual/getting-started/skin-anatomy/">Anatomy of a Skin</a>
	<li><a href="/manual/getting-started/basic-tutorials/">Basic Tutorials</a>
		<ul>
		<li><a href="/manual/getting-started/basic-tutorials/launcher/">Launcher</a>
		<li><a href="/manual/getting-started/basic-tutorials/clock/">Clock</a>
		<li><a href="/manual/getting-started/basic-tutorials/system/">System</a>
		</ul>
	</ul>
<li><a href="/manual/installing-rainmeter/">Installing Rainmeter</a>
<li><a href="/manual/user-interface/">User Interface</a>
	<ul>
	<li><a href="/manual/user-interface/manage/">Manage</a>
	<li><a href="/manual/user-interface/about/">About</a>
	<li><a href="/manual/user-interface/context-menus/">Context Menus</a>
	</ul>
<li><a href="/manual/installing-skins/">Installing Skins</a>
<li><a href="/manual/publishing-skins/">Publishing Skins</a>
</ul>

<h1>Reference</h1>
<ul>
<li><a href="/manual/settings/">Settings</a>
	<ul>
	<li><a href="/manual/settings/rainmeter-section/">[Rainmeter] Section</a>
	<li><a href="/manual/settings/traymeasure-section/">[TrayMeasure] Section</a>
	<li><a href="/manual/settings/skin-sections/">[Skin] Sections</a>
	</ul>
<li><a href="/manual/skins/">Skins</a>
	<ul>
	<li><a href="/manual/skins/option-types/">Option Types</a>
	<li><a href="/manual/skins/rainmeter-section/">[Rainmeter] Section</a>
	<li><a href="/manual/skins/metadata-section/">[Metadata] Section</a>
	<li><a href="/manual/skins/include-option/">@Include Options</a>
	<li><a href="/manual/skins/resources-folder/">@Resources Folder</a>
	</ul>
<li><a href="/manual/meters/">Meters</a>
	<ul>
	<li><a href="/manual/meters/general-options/">General Options</a>
		<ul>
		<li><a href="/manual/meters/general-options/image-options/">Image Options</a>
		<li><a href="/manual/meters/general-options/meterstyles/">MeterStyles</a>
		<li><a href="/manual/meters/general-options/tooltips/">Tooltips</a>
		</ul>
	<li><a href="/manual/meters/bar/">Bar</a>
	<li><a href="/manual/meters/bitmap/">Bitmap</a>
	<li><a href="/manual/meters/button/">Button</a>
	<li><a href="/manual/meters/histogram/">Histogram</a>
	<li><a href="/manual/meters/image/">Image</a>
	<li><a href="/manual/meters/line/">Line</a>
	<li><a href="/manual/meters/rotator/">Rotator</a>
	<li><a href="/manual/meters/roundline/">Roundline</a>
	<li><a href="/manual/meters/string/">String</a>
<ul>
  <li><a href="/manual/meters/string/inline/">Inline Options</a>
</ul>
	</ul>
<li><a href="/manual/measures/">Measures</a>
	<ul>
	<li><a href="/manual/measures/general-options/">General Options</a>
		<ul>
		<li><a href="/manual/measures/general-options/ifactions/">IfActions</a>
		<li><a href="/manual/measures/general-options/ifconditions/">IfConditions</a>
		<li><a href="/manual/measures/general-options/ifmatchactions/">IfMatchActions</a>
		<li><a href="/manual/measures/general-options/substitute/">Substitute</a>
		</ul>
	<li><a href="/manual/measures/calc/">Calc</a>
	<li><a href="/manual/measures/cpu/">CPU</a>
	<li><a href="/manual/measures/freediskspace/">FreeDiskSpace</a>
	<li><a href="/manual/measures/loop/">Loop</a>
	<li><a href="/manual/measures/memory/">Memory</a>
	<li><a href="/manual/measures/net/">Net</a>
	<li><a href="/manual/measures/plugin/">Plugin</a>
	<li><a href="/manual/measures/registry/">Registry</a>
	<li><a href="/manual/measures/script/">Script</a>
	<li><a href="/manual/measures/string/">String</a>
	<li><a href="/manual/measures/time/">Time</a>
	<li><a href="/manual/measures/uptime/">Uptime</a>
	</ul>
<li><a href="/manual/plugins/">Plugins</a>
	<ul>
	<li><a href="/manual/plugins/actiontimer/">ActionTimer</a>
	<li><a href="/manual/plugins/advancedcpu/">AdvancedCPU</a>
	<li><a href="/manual/plugins/audiolevel/">AudioLevel</a>
	<li><a href="/manual/plugins/coretemp/">CoreTemp</a>
	<li><a href="/manual/plugins/fileview/">FileView</a>
	<li><a href="/manual/plugins/folderinfo/">FolderInfo</a>
	<li><a href="/manual/plugins/inputtext/">InputText</a>
	<li><a href="/manual/plugins/itunes/">iTunes</a>
	<li><a href="/manual/plugins/mediakey/">MediaKey</a>
	<li><a href="/manual/plugins/nowplaying/">NowPlaying</a>
	<li><a href="/manual/plugins/perfmon/">PerfMon</a>
	<li><a href="/manual/plugins/ping/">Ping</a>
	<li><a href="/manual/plugins/power/">Power</a>
	<li><a href="/manual/plugins/process/">Process</a>
	<li><a href="/manual/plugins/quote/">Quote</a>
	<li><a href="/manual/plugins/recyclemanager/">RecycleManager</a>
	<li><a href="/manual/plugins/resmon/">ResMon</a>
	<li><a href="/manual/plugins/runcommand/">RunCommand</a>
	<li><a href="/manual/plugins/speedfan/">SpeedFan</a>
	<li><a href="/manual/plugins/sysinfo/">SysInfo</a>
	<li><a href="/manual/plugins/virtualdesktops/">VirtualDesktops</a>
	<li><a href="/manual/plugins/webparser/">WebParser</a>
	<li><a href="/manual/plugins/wifistatus/">WiFiStatus</a>
	<li><a href="/manual/plugins/win7audio/">Win7Audio</a>
	<li><a href="/manual/plugins/windowmessage/">WindowMessage</a>
	</ul>
<li><a href="/manual/bangs/">Bangs</a>
<li><a href="/manual/formulas/">Formulas</a>
<li><a href="/manual/variables/">Variables</a>
	<ul>
	<li><a href="/manual/variables/built-in-variables/">Built-In Variables</a>
	<li><a href="/manual/variables/section-variables/">Section Variables</a>
	<li><a href="/manual/variables/mouse-variables/">Mouse Variables</a>
	</ul>
<li><a href="/manual/groups/">Groups</a>
<li><a href="/manual/mouse-actions/">Mouse Actions</a>
<li><a href="/manual/lua-scripting/">Lua Scripting</a>
</ul>

<h1>More</h1>
<ul>
<li><a href="/manual-beta/">4.0 Beta Manual</a>
<li><a href="/tips/">Tips &amp; Tricks</a>
<li><a href="/snippets/">Snippets</a>
<li><a href="/developers/">Developers</a>
<li><a href="/history/">Version History</a>
</ul>

	</nav>
</div>
<div id="content">
	<header>
		<h1>AdvancedCPU plugin</h1>
	</header>
	<article><p><code>Plugin=AdvancedCPU</code> measures CPU usage by processes.</p>

<p><b>Note:</b> The value is a calculation of process CPU time scaled by the number of CPU cores. In order to use the value as a <a href="/manual/measures/#Percentage">percentage</a> in meters, it must have the <a href="/manual/measures/general-options/#MaxValue">MaxValue</a> of the measure dynamically set to the current value of an AdvancedCPU measure which has no <code>CPUInclude</code> or <code>CPUExclude</code> options. See the <a href="#Example">Example</a> below.</p>

<h2>Options</h2>
<dl>
	<dt>General measure options</dt>
	<dd>
		<p>All <a href="/manual/measures/general-options/">general measure options</a> are valid.</p>
	</dd>

	<dt id="CPUInclude"><code>CPUInclude</code></dt>
	<dd>
		<p>List of process names separated by <code>;</code> (semicolon) to use in measurements	. If specified, <code>CPUExclude</code> is ignored.</p>
	</dd>

	<dt id="CPUExclude"><code>CPUExclude</code></dt>
	<dd>
		<p>List of processes separated by <code>;</code> (semicolon) to ignore in measurements.</p>
		<p><b>Note:</b> The process <b>Idle</b> is a placeholder process used to manage unused CPU, therefore it should be excluded with <code>CPUExclude=Idle</code> to obtain CPU or <code>TopProcess</code> usage.</p>
	</dd>

	<dt id="TopProcess"><code>TopProcess</code> <small>Default: <code>0</code></small></dt>
	<dd>
		<p>Measures the process that is currently using the most CPU. Valid values are:
		<ul>
		<li><code>1</code> : The <a href="/manual/measures/#Values">value</a> will be the process CPU usage.</li>
		<li><code>2</code> : The <a href="/manual/measures/#Values">string value</a> will be the process name. The number value is not altered.</li>
		</ul></p>
	</dd>
</dl>

<h2 id="Example">Example</h2>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[Rainmeter]</span><br><span class="line">Update=1000</span><br><span class="line">DynamicWindowSize=1</span><br><span class="line">BackGroundMode=2</span><br><span class="line">SolidColor=0,0,0,255</span><br><span class="line"></span><br><span class="line">;Measure maximum CPU time for use in MaxValue in other measures</span><br><span class="line">[MeasureCPUMax]</span><br><span class="line">Measure=Plugin</span><br><span class="line">Plugin=AdvancedCPU</span><br><span class="line"></span><br><span class="line">;Measure current CPU usage with MaxValue set</span><br><span class="line">[MeasureCPU]</span><br><span class="line">Measure=Plugin</span><br><span class="line">Plugin=AdvancedCPU</span><br><span class="line">CPUExclude=Idle</span><br><span class="line">MaxValue=[MeasureCPUMax]</span><br><span class="line">DynamicVariables=1</span><br><span class="line"></span><br><span class="line">;Measure Name of top process</span><br><span class="line">[MeasureTopName]</span><br><span class="line">Measure=Plugin</span><br><span class="line">Plugin=AdvancedCPU</span><br><span class="line">CPUExclude=Idle</span><br><span class="line">TopProcess=2</span><br><span class="line"></span><br><span class="line">;Measure CPU usage of top process with MaxValue set</span><br><span class="line">[MeasureTop%]</span><br><span class="line">Measure=Plugin</span><br><span class="line">Plugin=AdvancedCPU</span><br><span class="line">CPUExclude=Idle</span><br><span class="line">TopProcess=1</span><br><span class="line">MaxValue=[MeasureCPUMax]</span><br><span class="line">DynamicVariables=1</span><br><span class="line"></span><br><span class="line">;Show current CPU usage as a percentage</span><br><span class="line">[MeterCPU]</span><br><span class="line">Meter=String</span><br><span class="line">MeasureName=MeasureCPU</span><br><span class="line">Y=2R</span><br><span class="line">FontColor=255,255,255,255</span><br><span class="line">FontSize=12</span><br><span class="line">AntiAlias=1</span><br><span class="line">Percentual=1</span><br><span class="line">NumOfDecimals=2</span><br><span class="line">DynamicVariables=1</span><br><span class="line">Text=CPU Usage: %1</span><br><span class="line"></span><br><span class="line">;Show name of top process</span><br><span class="line">[MeterTopName]</span><br><span class="line">Meter=String</span><br><span class="line">MeasureName=MeasureTopName</span><br><span class="line">Y=2R</span><br><span class="line">FontColor=255,255,255,255</span><br><span class="line">FontSize=12</span><br><span class="line">AntiAlias=1</span><br><span class="line"></span><br><span class="line">;Show CPU usage of top process as a percentage</span><br><span class="line">[MeterTop%]</span><br><span class="line">Meter=String</span><br><span class="line">MeasureName=MeasureTop%</span><br><span class="line">X=2R</span><br><span class="line">Y=0r</span><br><span class="line">FontColor=255,255,255,255</span><br><span class="line">FontSize=12</span><br><span class="line">AntiAlias=1</span><br><span class="line">Percentual=1</span><br><span class="line">NumOfDecimals=2</span><br><span class="line">Text=(%1)</span><br></pre></td></tr></table></figure>

<p><b>Note:</b></p>

<p>While rare, it is possible for the database of "counters" that is maintained by Performance Monitor in Windows to become damaged, which will cause the Perfmon plugin to stop functioning correctly.</p>

<p>In many cases, this can be corrected by "rebuilding" the database from the Windows command line.</p>

<p>Run cmd.exe, being sure to run "As administrator". At the command line, enter the following commands in order:</p>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd c:\windows\system32</span><br><span class="line">lodctr /R</span><br><span class="line">cd c:\windows\sysWOW64</span><br><span class="line">lodctr /R</span><br></pre></td></tr></table></figure>

<p>You should see the following results:</p>

<p><code>Info: Successfully rebuilt performance counter setting from system backup store</code></p></article>
</div>

			</div>
		</div>

		<div id="footer-push"></div>
	</div>

	<script src="/js/main.js?v=4"></script>
</body>
</html>
