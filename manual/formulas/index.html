<!DOCTYPE html><html lang=en><head><meta charset=utf-8><title>Formulas - Rainmeter 3.3 Manual</title><link href="../../css/main.css?v=1" rel=stylesheet><link rel="shortcut icon" href=//www.rainmeter.net/favicon.ico><!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6/html5shiv.min.js"></script><![endif]--><body><div id=wrapper><div id=top><div class=container><a id=logo href=//rainmeter.net></a><nav id=nav><ul><li><a href=//www.rainmeter.net>Home</a><li><a href=//www.rainmeter.net/about>About</a><li><a href="../../" class=active>Docs</a><li><a href=//www.rainmeter.net/discover>Discover</a><li><a href=//forum.rainmeter.net>Forum</a></ul></nav></div></div><div class=container><div class=row><div id=side-content><h1 id=category><a href=../../manual>3.3 Manual</a></h1><form id=search-form method=get action=http://www.google.com/search><input name=sitesearch value=docs.rainmeter.net type=hidden> <input id=search name=q maxlength=255 size=16 placeholder=Search type=text></form><nav id=tree><h1>Contents</h1><ul><li><a href="../getting-started/">Getting Started</a><ul><li><a href="../getting-started/setting-up/">Setting Up</a><li><a href="../getting-started/using-rainmeter/">Using Rainmeter</a><li><a href="../getting-started/customizing/">Customizing</a><li><a href="../getting-started/creating-skins/">Creating Skins</a><li><a href="../getting-started/skin-anatomy/">Anatomy of a Skin</a><li><a href="../getting-started/basic-tutorials/">Basic Tutorials</a><ul><li><a href="../getting-started/basic-tutorials/launcher/">Launcher</a><li><a href="../getting-started/basic-tutorials/clock/">Clock</a><li><a href="../getting-started/basic-tutorials/system/">System</a></ul></ul><li><a href="../installing-rainmeter/">Installing Rainmeter</a><li><a href="../user-interface/">User Interface</a><ul><li><a href="../user-interface/manage/">Manage</a><li><a href="../user-interface/about/">About</a><li><a href="../user-interface/context-menus/">Context Menus</a></ul><li><a href="../installing-skins/">Installing Skins</a><li><a href="../publishing-skins/">Publishing Skins</a></ul><h1>Reference</h1><ul><li><a href="../settings/">Settings</a><ul><li><a href="../settings/rainmeter-section/">[Rainmeter] Section</a><li><a href="../settings/traymeasure-section/">[TrayMeasure] Section</a><li><a href="../settings/skin-sections/">[Skin] Sections</a></ul><li><a href="../skins/">Skins</a><ul><li><a href="../skins/option-types/">Option Types</a><li><a href="../skins/rainmeter-section/">[Rainmeter] Section</a><li><a href="../skins/metadata-section/">[Metadata] Section</a><li><a href="../skins/include-option/">@Include Options</a><li><a href="../skins/resources-folder/">@Resources Folder</a></ul><li><a href="../meters/">Meters</a><ul><li><a href="../meters/general-options/">General Options</a><ul><li><a href="../meters/general-options/image-options/">Image Options</a><li><a href="../meters/general-options/meterstyles/">MeterStyles</a><li><a href="../meters/general-options/tooltips/">Tooltips</a></ul><li><a href="../meters/bar/">Bar</a><li><a href="../meters/bitmap/">Bitmap</a><li><a href="../meters/button/">Button</a><li><a href="../meters/histogram/">Histogram</a><li><a href="../meters/image/">Image</a><li><a href="../meters/line/">Line</a><li><a href="../meters/rotator/">Rotator</a><li><a href="../meters/roundline/">Roundline</a><li><a href="../meters/string/">String</a><ul><li><a href="../meters/string/inline/">Inline Options</a></ul></ul><li><a href="../measures/">Measures</a><ul><li><a href="../measures/general-options/">General Options</a><ul><li><a href="../measures/general-options/ifactions/">IfActions</a><li><a href="../measures/general-options/ifconditions/">IfConditions</a><li><a href="../measures/general-options/ifmatchactions/">IfMatchActions</a><li><a href="../measures/general-options/substitute/">Substitute</a></ul><li><a href="../measures/calc/">Calc</a><li><a href="../measures/cpu/">CPU</a><li><a href="../measures/freediskspace/">FreeDiskSpace</a><li><a href="../measures/loop/">Loop</a><li><a href="../measures/memory/">Memory</a><li><a href="../measures/net/">Net</a><li><a href="../measures/plugin/">Plugin</a><li><a href="../measures/registry/">Registry</a><li><a href="../measures/script/">Script</a><li><a href="../measures/string/">String</a><li><a href="../measures/time/">Time</a><li><a href="../measures/uptime/">Uptime</a></ul><li><a href="../plugins/">Plugins</a><ul><li><a href="../plugins/actiontimer/">ActionTimer</a><li><a href="../plugins/advancedcpu/">AdvancedCPU</a><li><a href="../plugins/audiolevel/">AudioLevel</a><li><a href="../plugins/coretemp/">CoreTemp</a><li><a href="../plugins/fileview/">FileView</a><li><a href="../plugins/folderinfo/">FolderInfo</a><li><a href="../plugins/inputtext/">InputText</a><li><a href="../plugins/itunes/">iTunes</a><li><a href="../plugins/mediakey/">MediaKey</a><li><a href="../plugins/nowplaying/">NowPlaying</a><li><a href="../plugins/perfmon/">PerfMon</a><li><a href="../plugins/ping/">Ping</a><li><a href="../plugins/power/">Power</a><li><a href="../plugins/process/">Process</a><li><a href="../plugins/quote/">Quote</a><li><a href="../plugins/recyclemanager/">RecycleManager</a><li><a href="../plugins/resmon/">ResMon</a><li><a href="../plugins/runcommand/">RunCommand</a><li><a href="../plugins/speedfan/">SpeedFan</a><li><a href="../plugins/sysinfo/">SysInfo</a><li><a href="../plugins/virtualdesktops/">VirtualDesktops</a><li><a href="../plugins/webparser/">WebParser</a><li><a href="../plugins/wifistatus/">WiFiStatus</a><li><a href="../plugins/win7audio/">Win7Audio</a><li><a href="../plugins/windowmessage/">WindowMessage</a></ul><li><a href="../bangs/">Bangs</a><li><a href="">Formulas</a><li><a href="../variables/">Variables</a><ul><li><a href="../variables/built-in-variables/">Built-In Variables</a><li><a href="../variables/section-variables/">Section Variables</a><li><a href="../variables/mouse-variables/">Mouse Variables</a></ul><li><a href="../groups/">Groups</a><li><a href="../mouse-actions/">Mouse Actions</a><li><a href="../lua-scripting/">Lua Scripting</a></ul><h1>More</h1><ul><li><a href="../../manual-beta/">4.0 Beta Manual</a><li><a href="../../tips/">Tips &amp; Tricks</a><li><a href="../../snippets/">Snippets</a><li><a href="../../developers/">Developers</a><li><a href="../../history/">Version History</a></ul></nav></div><div id=content><header><h1>Formulas</h1></header><article><p>There are many situations where formulas can be used in Rainmeter to arrive at a numerical result. These might be things like:<ul><li>In a Calc measure: <code>Formula=(2.5 + 100) * 2</code><li>In an IFCondition option value: <code>IfCondition=MeasureName > (2.5 + 100) * 2</code><li>In a numeric meter or measure option value: <code>W=((2.5 + 100) * 2)</code><li>As a numeric part of an option value: <code>FontColor=(255 * 0.5),255,255,255</code><li>In a Bang: <code>LeftMouseUpAction=[!SetOption SomeMeter W "((2.5 + 100) * 2)"]</code></ul><p>Mathematical formulas must be entirely enclosed in (parentheses) to alert Rainmeter that it is a formula, unless they are being used in a <a href="../measures/calc/">Calc</a> measure or <a href="../measures/general-options/ifconditions/">IfCondition</a> option, where the function is always assumed to be a formula, and the enclosing parentheses are optional.<p><b>Note:</b> While [Measures], [SectionVariables:] and #Variables# can be used in a formula, all the components of a formula must be numeric, using only numbers, operators, functions and constants.<h2 id=Formulas>Formula Syntax</h2><h3 id=Operators>Operators</h3><ul><li><code>+</code>: Addition<li><code>-</code>: Substraction<li><code>*</code>: Multiplication<li><code>/</code>: Division<li><code>**</code>: Power<li><code>%</code>: Remainder or modulus<li><code>&amp;</code>: Bitwise and<li><code>|</code>: Bitwise or<li><code>^</code>: Bitwise xor<li><code>~</code>: Bitwise not</ul><h3 id=Logical>Logical Operators</h3><ul><li><code>&lt;&gt;</code>: Not equal<li><code>=</code>: Equal to<li><code>&gt;</code>: Greater than<li><code>&lt;</code>: Less than<li><code>&lt;=</code>: Less than or equal to<li><code>&gt;=</code>: Greater than or equal to<li><code>&amp;&amp;</code>: Logical and<li><code>||</code>: Logical or</ul><p><b>Note:</b> Conditional statements using logical operators evaluate to 1 or 0 (true / false).<h3 id=Functions>Functions</h3><ul><li><code>Atan(<em>x</em>)</code>, <code>Asin(<em>x</em>)</code>, <code>Acos(<em>x</em>)</code>, <code>Cos(<em>x</em>)</code>, <code>Sin(<em>x</em>)</code>, <code>Tan(<em>x</em>)</code>: Standard trigonometric functions. <em>x</em> is in radians.<li><code>Atan2(<em>y</em>, <em>x</em>)</code> - Returns the radians of arc tangent between points <em>Y</em> and <em>X</em> in the Cartesian plane. The sign of the elements determines the quadrant.<li><code>Rad(<em>x</em>)</code> - Converts <em>x</em> degrees to radians.<li><code>Abs(<em>x</em>)</code> - Absolute value of <em>x</em>.<li><code>Exp(<em>x</em>)</code> - Returns <em>e</em><sup>x</sup>.<li><code>Log(<em>x</em>)</code> - Base 10 logarithm of <em>x</em>.<li><code>Ln(<em>x</em>)</code> - Natural logarithm of <em>x</em>.<li><code>Sqrt(<em>x</em>)</code> - Square root of <em>x</em>.<li><code>Sgn(<em>x</em>)</code> - Return 1 if x is positive, -1 if x is negative.<li><code>Frac(<em>x</em>)</code> - Fractional, or decimal, part (e.g. frac(1.234) = 0.234).<li><code>Trunc(<em>x</em>)</code> - Integer part (e.g. trunc(1.234) = 1).<li><code>Floor(<em>x</em>)</code> - Floor of <em>x</em>.<li><code>Ceil(<em>x</em>)</code> - Ceiling of <em>x</em>.<li><code>Min(<em>x</em>, <em>y</em>)</code> - Minimum of <em>x</em> and <em>y</em>.<li><code>Max(<em>x</em>, <em>y</em>)</code> - Maximum of <em>x</em> and <em>y</em>.<li><code>Clamp(<em>x</em>, <em>low</em>, <em>high</em>)</code> - Restricts value <em>x</em> to <em>low</em> and <em>high</em> limits.<li><code>Round(<em>x</em>, <em>precision</em>)</code> - Rounds <em>x</em> to an integer, or to a specified number of decimal places. <em>precision</em> is optional.<br><br></ul><h3 id=Constants>Constants</h3><ul><li><code>PI</code>: Mathematical constant Pi (~3.14159265...).<li><code>E</code>: Mathematical constant e (~2.71828182...).</ul><h3 id=Conditional>Conditional Operations</h3><p><code>&lt;condition&gt; ? &lt;expr. if true.&gt; : &lt;expr. if false.&gt;</code><p>This will evaluate condition as being either true or false. If it is true, the expression to the left of the colon (:) is evaluated. If it is false, the expression to the right is evaluated. This is equivalent to the following if-then-else statement:<pre>
   if (condition)
     then
       expr. if true
     else
       expr. if false
   end if
</pre><br><figure class="highlight ini"><table><tr><td class=code><pre><span class=line><span class=title>[Measure]</span></span><br><span class=line><span class=setting>Measure=<span class=value>Calc</span></span></span><br><span class=line><span class=setting>Formula=<span class=value><span class=number>5</span></span></span></span><br><span class=line><span class=title></span><br><span class=line>[Meter]</span></span><br><span class=line><span class=setting>Meter=<span class=value>String</span></span></span><br><span class=line><span class=setting>X=<span class=value>([Measure] &lt; <span class=number>6</span> ? <span class=number>0</span> : <span class=number>10</span>)</span></span></span><br><span class=line><span class=setting>DynamicVariables=<span class=value><span class=number>1</span></span></span></span><br></pre></table></figure><p>The meter would be positioned at <code>X=0</code> since the condition <code>[Measure] &lt; 6</code> evaluates to true.<p>Conditional operators can be nested. It should be noted that there is a maximum of 30 nested operators.<figure class="highlight ini"><table><tr><td class=code><pre><span class=line><span class=title>[Measure]</span></span><br><span class=line><span class=setting>Measure=<span class=value>Calc</span></span></span><br><span class=line><span class=setting>Formula=<span class=value><span class=number>2</span></span></span></span><br><span class=line><span class=title></span><br><span class=line>[Meter]</span></span><br><span class=line><span class=setting>Meter=<span class=value>String</span></span></span><br><span class=line><span class=setting>X=<span class=value>([Measure] &lt; <span class=number>1</span> ? <span class=number>99</span> : ([Measure] &lt; <span class=number>2</span> ? <span class=number>98</span> : ([Measure] &lt; <span class=number>3</span> ? <span class=number>97</span> : <span class=number>96</span>)))</span></span></span><br><span class=line><span class=setting>DynamicVariables=<span class=value><span class=number>1</span></span></span></span><br></pre></table></figure><p>The meter would be positioned at <code>X=97</code>. Since the first statement of <code>[Measure] &lt; 1</code> is false, the formula begins testing the nested formulas in order until the condition becomes true . If none of the conditions are met, the final false value of 96 would be set.</article></div></div></div><div id=footer-push></div></div><script src="../../js/main.js?v=2"></script>